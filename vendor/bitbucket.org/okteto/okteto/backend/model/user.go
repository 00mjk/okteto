package model

// User is the authenticated user
type User struct {
	Model
	Email    string `gorm:"email:unique_index"`
	Token    string `gorm:"token:unique_index"`
	Verified bool
}

//InviteUserRequest is the request used to invite a new user to the system
type InviteUserRequest struct {
	Email   string      `json:"email"`
	Project string      `json:"project,omitempty"`
	Role    ProjectRole `json:"role"`
}

// NewUser returns a User with an autogenerated ID and API token
func NewUser(email string) *User {
	token, _ := GenerateRandomString(64)
	u := User{
		Email: email,
		Token: token,
	}

	return &u
}
